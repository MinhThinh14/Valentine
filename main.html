<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>Valentine Cho Em ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600&family=Playfair+Display:wght@700&family=Comic+Neue:wght@400;700&family=Fredoka+One&display=swap"
        rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            font-family: 'Poppins', sans-serif;
            background: #000;
        }

        /* ===== N·ªÄN M√ÄU H·ªíNG ===== */
        .pink-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: linear-gradient(135deg, #ffccd5 0%, #ffafcc 20%, #ff8fab 40%, #ff7595 60%, #ff4d6d 80%, #c9184a 100%);
        }

        /* ===== HOA TULIP BAY ===== */
        .tulip-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
            overflow: hidden;
            opacity: 0.5;
        }

        .tulip {
            position: absolute;
            font-size: 1.8rem;
            opacity: 0;
            animation: tulipFloat 10s linear infinite;
            color: #ff8fab;
            text-shadow: 0 0 15px rgba(255, 77, 109, 0.5);
            z-index: 5;
        }

        .tulip:nth-child(1) { left: 5%; animation-delay: 0s; font-size: 1.5rem; }
        .tulip:nth-child(2) { left: 15%; animation-delay: 2s; font-size: 1.8rem; }
        .tulip:nth-child(3) { left: 25%; animation-delay: 4s; font-size: 1.6rem; }
        .tulip:nth-child(4) { left: 35%; animation-delay: 1s; font-size: 2rem; }
        .tulip:nth-child(5) { left: 45%; animation-delay: 3s; font-size: 1.5rem; }
        .tulip:nth-child(6) { left: 55%; animation-delay: 5s; font-size: 1.7rem; }
        .tulip:nth-child(7) { left: 65%; animation-delay: 0.5s; font-size: 1.8rem; }
        .tulip:nth-child(8) { left: 75%; animation-delay: 2.5s; font-size: 1.6rem; }
        .tulip:nth-child(9) { left: 85%; animation-delay: 3.5s; font-size: 2rem; }
        .tulip:nth-child(10) { left: 95%; animation-delay: 1.5s; font-size: 1.5rem; }

        @keyframes tulipFloat {
            0% { top: -10%; opacity: 0; transform: rotate(0deg) translateX(0); }
            10% { opacity: 0.8; }
            50% { opacity: 0.9; transform: rotate(180deg) translateX(50px); }
            90% { opacity: 0.6; }
            100% { top: 110%; opacity: 0; transform: rotate(360deg) translateX(-50px); }
        }

        /* ===== TRANG TR√ç HOA TULIP C·ªê ƒê·ªäNH ===== */
        .tulip-decoration {
            position: fixed;
            font-size: 1.8rem;
            color: #ff99cc;
            text-shadow: 0 0 20px rgba(255, 77, 109, 0.6);
            z-index: 6;
            pointer-events: none;
            animation: tulipSway 4s ease-in-out infinite;
            opacity: 0.6;
        }

        .tulip-decoration-left { left: 10px; bottom: 10px; font-size: 2rem; transform: rotate(-15deg); }
        .tulip-decoration-right { right: 10px; top: 10px; font-size: 2rem; transform: rotate(15deg); }
        .tulip-decoration-top-left { left: 20px; top: 20px; font-size: 1.8rem; transform: rotate(-20deg); }
        .tulip-decoration-bottom-right { right: 20px; bottom: 20px; font-size: 1.8rem; transform: rotate(20deg); }
        .tulip-decoration-center-left { left: 5px; top: 50%; font-size: 2rem; transform: translateY(-50%) rotate(-10deg); }
        .tulip-decoration-center-right { right: 5px; top: 50%; font-size: 2rem; transform: translateY(-50%) rotate(10deg); }

        @keyframes tulipSway {
            0%, 100% { transform: rotate(-5deg) translateY(0); }
            50% { transform: rotate(5deg) translateY(-10px); }
        }

        /* ===== LOADER ===== */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff4d6d, #ff8fa3, #ffb3c6);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 1s, visibility 1s;
        }

        .loader.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .heart-loader {
            font-size: 4rem;
            color: white;
            animation: heartbeat 1.5s infinite;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
        }

        .loader-text {
            font-size: 1.3rem;
            color: white;
            margin-top: 15px;
            font-family: 'Dancing Script', cursive;
            text-align: center;
            padding: 0 20px;
        }

        /* ===== M√ÄN H√åNH ===== */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 1s, visibility 1s;
            overflow-y: auto;
            padding: 15px;
        }

        .screen.active {
            opacity: 1;
            visibility: visible;
        }

        /* ===== M√ÄN H√åNH 2 ===== */
        #screen2 {
            background: linear-gradient(135deg, rgba(255, 204, 213, 0.95), rgba(255, 77, 109, 0.95));
        }

        .valentine-text {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: white;
            text-align: center;
            padding: 25px 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            text-shadow: 0 0 20px rgba(255, 77, 109, 0.9);
            border: 2px solid rgba(255, 255, 255, 0.4);
            margin: 0 10px;
        }

        .countdown-2 {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 1.1rem;
            background: rgba(255, 77, 109, 0.8);
            padding: 10px 20px;
            border-radius: 30px;
            backdrop-filter: blur(10px);
            font-weight: 500;
            border: 2px solid rgba(255, 255, 255, 0.4);
            white-space: nowrap;
        }

        /* ===== M√ÄN H√åNH 3 ===== */
        #screen3 {
            background: linear-gradient(135deg, rgba(255, 204, 213, 0.98), rgba(255, 77, 109, 0.98));
            padding: 10px;
            justify-content: flex-start;
        }

        .title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            color: white;
            text-align: center;
            margin: 15px 0 10px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.9);
        }

        .calendar-container {
            width: 100%;
            max-width: 400px;
            height: 450px;
            position: relative;
            margin: 5px 0;
        }

        .calendar-page {
            position: absolute;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            padding: 15px;
            display: none;
            flex-direction: column;
            border: 2px solid rgba(255, 255, 255, 0.8);
            overflow-y: auto;
        }

        .calendar-page.active {
            display: flex;
        }

        .page-content {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .big-love-text {
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            background: linear-gradient(45deg, #c9184a, #ff4d6d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 5px;
            text-align: center;
        }

        .page-message {
            font-size: 0.95rem;
            color: #590d22;
            line-height: 1.5;
            font-family: 'Comic Neue', cursive;
            background: rgba(255, 230, 230, 0.7);
            border-radius: 15px;
            padding: 15px;
            border: 1px solid rgba(255, 77, 109, 0.3);
            overflow-y: auto;
            flex: 1;
        }

        /* ===== TRANG 5 ===== */
        .form-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-title {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            color: #c9184a;
            text-align: center;
        }

        .message-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ff99cc;
            border-radius: 15px;
            font-size: 0.95rem;
            font-family: 'Comic Neue', cursive;
            background: white;
            resize: none;
        }

        #messageInput {
            height: 150px;
        }

        .send-btn {
            background: linear-gradient(45deg, #ff4d6d, #ff8fa3);
            border: none;
            border-radius: 40px;
            padding: 12px 20px;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            cursor: pointer;
            border: 2px solid white;
            width: 100%;
        }

        /* ===== TRANG 6 (C√¢u h·ªèi) ===== */
        .questions-container {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding-right: 3px;
        }

        .question-item {
            background: rgba(255, 230, 230, 0.7);
            padding: 10px;
            border-radius: 12px;
            border: 1px solid rgba(255, 77, 109, 0.3);
        }

        .question-item p {
            font-weight: 600;
            color: #c9184a;
            margin-bottom: 8px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .question-item textarea {
            width: 100%;
            height: 60px;
            padding: 8px;
            border: 2px solid #ff99cc;
            border-radius: 10px;
            font-size: 0.85rem;
            font-family: 'Comic Neue', cursive;
            background: white;
            resize: none;
        }

        /* ===== TRANG 7 ===== */
        .love-message {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            background: linear-gradient(45deg, #c9184a, #ff4d6d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.4;
            text-align: center;
            padding: 10px;
        }

        /* ===== ƒêI·ªÄU H∆Ø·ªöNG ===== */
        .navigation-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 12px;
            border-radius: 40px;
            backdrop-filter: blur(10px);
            width: 100%;
            max-width: 350px;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid white;
            color: #ff4d6d;
            font-size: 0.9rem;
            padding: 6px 12px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            min-width: 60px;
        }

        .page-indicator {
            font-size: 0.9rem;
            color: #c9184a;
            font-weight: bold;
            background: white;
            padding: 5px 12px;
            border-radius: 30px;
            border: 2px solid #ff99cc;
            white-space: nowrap;
        }

        .footer-quote {
            color: white;
            font-size: 1rem;
            font-family: 'Comic Neue', cursive;
            text-align: center;
            margin-top: 10px;
            padding: 0 10px;
        }

        .success-message {
            color: #c9184a;
            font-size: 0.9rem;
            font-family: 'Comic Neue', cursive;
            background: rgba(255, 255, 255, 0.9);
            padding: 8px 12px;
            border-radius: 30px;
            display: none;
            border: 1px solid #ff99cc;
            text-align: center;
        }

        /* ===== HI·ªÜU ·ª®NG ===== */
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.9; }
            50% { opacity: 1; }
        }

        /* Transition overlay */
        .transition-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ff4d6d, #ff8fa3);
            z-index: 999;
            transform: scaleY(0);
            transform-origin: bottom;
            transition: transform 0.8s;
        }

        .transition-overlay.active {
            transform: scaleY(1);
            transform-origin: top;
        }

        /* Responsive cho iPhone 7 */
        @media (max-width: 375px) {
            .title { font-size: 1.8rem; }
            .big-love-text { font-size: 1.8rem; }
            .calendar-container { height: 420px; }
            .page-message { font-size: 0.85rem; padding: 10px; }
            .nav-btn { font-size: 0.8rem; padding: 5px 8px; min-width: 50px; }
            .page-indicator { font-size: 0.8rem; padding: 5px 8px; }
            .footer-quote { font-size: 0.85rem; }
        }
    </style>
</head>

<body>
    <div class="pink-background"></div>

    <!-- HOA TULIP BAY -->
    <div class="tulip-container">
        <div class="tulip">üå∑</div><div class="tulip">üå∑</div><div class="tulip">üå∑</div><div class="tulip">üå∑</div>
        <div class="tulip">üå∑</div><div class="tulip">üå∑</div><div class="tulip">üå∑</div><div class="tulip">üå∑</div>
        <div class="tulip">üå∑</div><div class="tulip">üå∑</div>
    </div>

    <!-- TRANG TR√ç HOA TULIP C·ªê ƒê·ªäNH -->
    <div class="tulip-decoration tulip-decoration-left">üå∑</div>
    <div class="tulip-decoration tulip-decoration-right">üå∑</div>
    <div class="tulip-decoration tulip-decoration-top-left">üå∑</div>
    <div class="tulip-decoration tulip-decoration-bottom-right">üå∑</div>

    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="heart-loader">üíù</div>
        <div class="loader-text">Anh chu·∫©n b·ªã y√™u th∆∞∆°ng cho em...</div>
    </div>

    <!-- Hi·ªáu ·ª©ng chuy·ªÉn m√†n h√¨nh -->
    <div class="transition-overlay" id="transitionOverlay"></div>

    <!-- M√ÄN H√åNH 2 -->
    <div class="screen active" id="screen2">
        <div style="text-align: center; width: 100%;">
            <h1 class="valentine-text">Ch√∫c Valentine<br>Anh Y√™u Em ‚ù§Ô∏è</h1>
            <div style="margin-top: 30px; font-size: 2.5rem; color: white;">üå∑ üíù üå∑</div>
            <div class="countdown-2" id="countdown2">üå∑ Chuy·ªÉn sau: 3s üå∑</div>
        </div>
    </div>

    <!-- M√ÄN H√åNH 3 -->
    <div class="screen" id="screen3">
        <h1 class="title">G·ª≠i Em B√© C·ªßa Anh üíå</h1>

        <div class="calendar-container" id="calendarContainer">
            <!-- Trang 1 -->
            <div class="calendar-page active" id="page1">
                <div class="page-content">
                    <h2 class="big-love-text">G·ª≠i b√© Nhi</h2>
                    <div class="page-message">
                        Anh kh√¥ng gi·ªèi n√≥i l·ªùi ƒë∆∞·ªùng m·∫≠t, nh∆∞ng anh mu·ªën y√™u em b·∫±ng s·ª± ch√¢n th√†nh.<br><br>
                        T·ª´ ng√†y c√≥ em, cu·ªôc s·ªëng c·ªßa anh √Ω nghƒ©a h∆°n.<br><br>
                        Ch·ªâ c·∫ßn nh√¨n th·∫•y n·ª• c∆∞·ªùi c·ªßa em, m·ªçi m·ªát m·ªèi tan bi·∫øn.<br><br>
                        M·∫Øt em th·∫≠t ƒë·∫πp <span style="color: #ff4d6d;">‚ù§Ô∏è</span>
                    </div>
                </div>
            </div>

            <!-- Trang 2 -->
            <div class="calendar-page" id="page2">
                <div class="page-content">
                    <h2 class="big-love-text">Em l√† h·∫°nh ph√∫c</h2>
                    <div class="page-message">
                        Anh ch·ªâ mong ƒë∆∞·ª£c b√™n em m√£i m√£i.<br><br>
                        M·ªói ng√†y ƒë·ªÅu c√≥ em, ƒë∆∞·ª£c g·ªçi em l√† ‚Äúem b√©‚Äù c·ªßa anh.<br><br>
                        Anh kh√¥ng mu·ªën m·∫•t em. Th∆∞∆°ng em nhi·ªÅu!
                    </div>
                </div>
            </div>

            <!-- Trang 3 -->
            <div class="calendar-page" id="page3">
                <div class="page-content">
                    <h2 class="big-love-text">C·∫£m ∆°n em</h2>
                    <div class="page-message">
                        L·ªÖ t√¨nh nh√¢n nƒÉm nay anh kh√¥ng c√≤n m·ªôt m√¨nh.<br><br>
                        C·∫£m ∆°n em ƒë√£ b√™n c·∫°nh anh.<br><br>
                        Mong nƒÉm sau v√† m√£i m√£i v·∫´n b√™n nhau.
                    </div>
                </div>
            </div>

            <!-- Trang 4 -->
            <div class="calendar-page" id="page4">
                <div class="page-content">
                    <h2 class="big-love-text">Mong ∆∞·ªõc</h2>
                    <div class="page-message">
                        Khi em xu·ªëng ƒë√¢y h·ªçc, anh s·∫Ω g·∫∑p em m·ªói ng√†y <span style="color: #ff4d6d;">‚ù§Ô∏è</span><br><br>
                        N·∫øu em m·ªát, h√£y nh·ªõ lu√¥n c√≥ anh b√™n c·∫°nh.<br><br>
                        Anh mu·ªën ch√∫ng ta c√πng b∆∞·ªõc ti·∫øp m·ªçi ng√†y.
                    </div>
                </div>
            </div>

            <!-- Trang 5 -->
            <div class="calendar-page" id="page5">
                <div class="form-container">
                    <h2 class="form-title">üíå L·ªùi nh·∫Øn c·ªßa em</h2>
                    <textarea class="message-input" id="messageInput" placeholder="Em mu·ªën n√≥i g√¨ v·ªõi anh? ..."></textarea>
                    <button class="send-btn" id="sendBtn">G·ª¨I</button>
                    <div class="success-message" id="successMessage">ƒê√£ g·ª≠i th√†nh c√¥ng!</div>
                </div>
            </div>

            <!-- Trang 6 - C√¢u h·ªèi -->
            <div class="calendar-page" id="page6">
                <div class="page-content">
                    <h2 class="big-love-text" style="font-size: 1.8rem;">üíù C√¢u h·ªèi cho em</h2>
                    <div class="questions-container">
                        <div class="question-item">
                            <p>1. Kho·∫£nh kh·∫Øc n√†o khi·∫øn em quy·∫øt ƒë·ªãnh ti·∫øn t·ªõi v·ªõi anh?</p>
                            <textarea id="answer1" placeholder="C√¢u tr·∫£ l·ªùi..."></textarea>
                        </div>
                        <div class="question-item">
                            <p>2. Kho·∫£ng th·ªùi gian n√†o em th·∫•y y√™u anh nh·∫•t?</p>
                            <textarea id="answer2" placeholder="C√¢u tr·∫£ l·ªùi..."></textarea>
                        </div>
                        <div class="question-item">
                            <p>3. ƒêi·ªÅu g√¨ ·ªü anh l√†m em ng·∫°c nhi√™n?</p>
                            <textarea id="answer3" placeholder="C√¢u tr·∫£ l·ªùi..."></textarea>
                        </div>
                        <div class="question-item">
                            <p>4. Khi g·∫∑p anh, em mu·ªën l√†m g√¨ ƒë·∫ßu ti√™n?</p>
                            <textarea id="answer4" placeholder="C√¢u tr·∫£ l·ªùi..."></textarea>
                        </div>
                        <div class="question-item">
                            <p>5. Em nghƒ© sao v·ªÅ quy t·∫Øc "c·∫£ 2 ƒë·ªìng √Ω m·ªõi chia tay"?</p>
                            <textarea id="answer5" placeholder="C√¢u tr·∫£ l·ªùi..."></textarea>
                        </div>
                        <div class="question-item">
                            <p>6. Em k·ªÉ v·ªõi m·ªçi ng∆∞·ªùi v·ªÅ anh nh∆∞ th·∫ø n√†o?</p>
                            <textarea id="answer6" placeholder="C√¢u tr·∫£ l·ªùi..."></textarea>
                        </div>
                    </div>
                    <button class="send-btn" id="sendAnswersBtn" style="margin-top: 10px;">G·ª¨I L·ªúI ƒê√ÅP</button>
                    <div class="success-message" id="answersSuccessMessage">ƒê√£ g·ª≠i th√†nh c√¥ng!</div>
                </div>
            </div>

            <!-- Trang 7 -->
            <div class="calendar-page" id="page7">
                <div class="page-content" style="justify-content: center;">
                    <h2 class="big-love-text" style="font-size: 3rem; margin-bottom: 10px;">‚ù§Ô∏è</h2>
                    <div class="love-message">
                        Anh y√™u em<br>c·ª•c z√†ng c·ªßa anh
                    </div>
                    <div style="margin-top: 20px; font-size: 2rem; color: #ff4d6d;">üå∑ üíñ üå∑</div>
                </div>
            </div>
        </div>

        <!-- ƒêI·ªÄU H∆Ø·ªöNG -->
        <div class="navigation-wrapper">
            <button class="nav-btn" id="prevPageBtn">‚óÄ</button>
            <div class="page-indicator" id="pageIndicator">1/7</div>
            <button class="nav-btn" id="nextPageBtn">‚ñ∂</button>
        </div>
        <div class="footer-quote">"M·ªói ng√†y ƒë·ªÅu l√† Valentine"</div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        emailjs.init("fRoM9ikD3BSv4A9UU");

        let countdownInterval = null;
        let currentPage = 1;
        let totalPages = 7;

        function transitionToScreen(screenNumber) {
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }

            const transitionOverlay = document.getElementById('transitionOverlay');
            transitionOverlay.classList.add('active');

            setTimeout(() => {
                document.querySelectorAll('.screen').forEach(screen => screen.classList.remove('active'));
                document.getElementById(`screen${screenNumber}`).classList.add('active');

                if (screenNumber === 2) {
                    setTimeout(() => startCountdown(), 300);
                }
                if (screenNumber === 3) {
                    currentPage = 1;
                    showPage(currentPage);
                }

                setTimeout(() => transitionOverlay.classList.remove('active'), 800);
            }, 800);
        }

        function startCountdown() {
            let countdown = 3;
            const countdownElement = document.getElementById('countdown2');

            countdownInterval = setInterval(() => {
                countdownElement.innerHTML = `üå∑ Chuy·ªÉn sau: ${countdown}s üå∑`;
                countdown--;
                if (countdown < 0) {
                    clearInterval(countdownInterval);
                    setTimeout(() => transitionToScreen(3), 500);
                }
            }, 1000);
        }

        function showPage(pageNumber) {
            for (let i = 1; i <= totalPages; i++) {
                document.getElementById(`page${i}`)?.classList.remove('active');
            }
            document.getElementById(`page${pageNumber}`)?.classList.add('active');
            currentPage = pageNumber;
            document.getElementById('pageIndicator').innerHTML = `${pageNumber}/${totalPages}`;
        }

        function nextPage() {
            if (currentPage < totalPages) showPage(currentPage + 1);
            else showPage(1);
        }

        function prevPage() {
            if (currentPage > 1) showPage(currentPage - 1);
            else showPage(totalPages);
        }

        function sendEmail() {
            const message = document.getElementById('messageInput').value.trim();
            if (!message) {
                alert('Nh·∫≠p l·ªùi nh·∫Øn nh√©!');
                return;
            }

            const successMessage = document.getElementById('successMessage');
            successMessage.style.display = 'block';
            successMessage.innerHTML = '‚è∞ ƒêang g·ª≠i...';

            emailjs.send("service_nka6s18", "template_f0xkuce", {
                message: message,
                date: new Date().toLocaleDateString('vi-VN')
            })
            .then(() => {
                successMessage.innerHTML = 'üå∑ G·ª≠i th√†nh c√¥ng!';
                document.getElementById('messageInput').value = '';
                setTimeout(() => successMessage.style.display = 'none', 3000);
            })
            .catch(error => {
                successMessage.innerHTML = '‚ùå G·ª≠i th·∫•t b·∫°i!';
                console.error(error);
                setTimeout(() => successMessage.style.display = 'none', 3000);
            });
        }

        function sendAnswers() {
            const answers = [];
            for (let i = 1; i <= 6; i++) {
                const answer = document.getElementById(`answer${i}`)?.value.trim();
                if (!answer) {
                    alert('Tr·∫£ l·ªùi h·∫øt c√¢u h·ªèi nh√©!');
                    return;
                }
                answers.push(answer);
            }

            const successMessage = document.getElementById('answersSuccessMessage');
            successMessage.style.display = 'block';
            successMessage.innerHTML = '‚è∞ ƒêang g·ª≠i...';

            const questions = [
                '1. Kho·∫£nh kh·∫Øc quy·∫øt ƒë·ªãnh y√™u anh?',
                '2. Th·ªùi gian y√™u anh nh·∫•t?',
                '3. ƒêi·ªÅu ng·∫°c nhi√™n ·ªü anh?',
                '4. Mu·ªën l√†m g√¨ khi g·∫∑p anh?',
                '5. Quy t·∫Øc chia tay?',
                '6. K·ªÉ v·ªÅ anh v·ªõi m·ªçi ng∆∞·ªùi?'
            ];

            let fullMessage = '';
            for (let i = 0; i < 6; i++) {
                fullMessage += `${questions[i]}\nTr·∫£ l·ªùi: ${answers[i]}\n\n---\n\n`;
            }

            emailjs.send("service_nka6s18", "template_f0xkuce", {
                message: fullMessage,
                date: new Date().toLocaleDateString('vi-VN')
            })
            .then(() => {
                successMessage.innerHTML = 'üå∑ G·ª≠i th√†nh c√¥ng!';
                for (let i = 1; i <= 6; i++) {
                    document.getElementById(`answer${i}`).value = '';
                }
                setTimeout(() => successMessage.style.display = 'none', 3000);
            })
            .catch(error => {
                successMessage.innerHTML = '‚ùå G·ª≠i th·∫•t b·∫°i!';
                console.error(error);
                setTimeout(() => successMessage.style.display = 'none', 3000);
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
                setTimeout(() => {
                    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
                    document.getElementById('screen2').classList.add('active');
                    startCountdown();
                    showPage(1);
                }, 300);
            }, 2000);

            document.getElementById('nextPageBtn').addEventListener('click', nextPage);
            document.getElementById('prevPageBtn').addEventListener('click', prevPage);
            document.getElementById('sendBtn').addEventListener('click', sendEmail);
            document.getElementById('sendAnswersBtn').addEventListener('click', sendAnswers);
        });
    </script>
</body>
</html>